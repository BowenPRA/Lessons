<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6.2 Kh√∫c x·∫° - Khoa h·ªçc L·ªõp 8</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* --- CSS VARIABLES & THEME --- */
        :root {
            /* Palette - Deep Space Science Theme */
            --bg-deep: #020617;          
            --bg-card: #1e293b;          
            --bg-card-hover: #334155;   
            
            --primary: #6366f1;   /* Indigo - Main Elements */
            --secondary: #ec4899; /* Pink - Highlights/Collision */
            --accent: #22d3ee;    /* Cyan - Key Terms/Earth */
            --amber: #fbbf24;     /* Amber - Impact/Molten */
            --success: #34d399;   
            --danger: #f87171;    

            /* Typography */
            --text-main: #ffffff;        
            --text-muted: #e2e8f0;       
            --text-on-light: #0f172a; 

            --header-h: 70px;
            --footer-h: 80px;
            --border-radius: 16px;
            
            --fs-h1: clamp(2.5rem, 5vw, 5rem);
            --fs-h2: clamp(1.8rem, 3.5vw, 3.5rem);
            --fs-h3: clamp(1.2rem, 2vw, 2rem);
            --fs-body: clamp(1.1rem, 1.2vw, 1.5rem);
        }

        /* --- RESET & BASE --- */
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        
        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-deep);
            /* Deep Space Background Effect */
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.15), transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(236, 72, 153, 0.15), transparent 40%),
                radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 3px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 2px),
                radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 3px);
            background-size: 100% 100%, 100% 100%, 550px 550px, 350px 350px, 250px 250px;
            background-position: 0 0, 0 0, 0 0, 100px 30px, 200px 100px;
            color: var(--text-main);
        }

        /* --- LAYOUT --- */
        .app-shell { display: flex; flex-direction: column; height: 100vh; }

        .header {
            height: var(--header-h);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
            background: rgba(2, 6, 23, 0.95);
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
            z-index: 10;
        }

        .brand-pill {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            padding: 0.4rem 1.2rem;
            border-radius: 50px;
            font-family: 'Outfit', sans-serif;
            font-weight: 800;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--bg-deep);
            box-shadow: 0 0 15px rgba(34, 211, 238, 0.3);
        }

        .viewport {
            flex: 1;
            position: relative;
            overflow-y: auto;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        .slide-wrapper {
            min-height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .footer {
            height: var(--footer-h);
            background: rgba(2, 6, 23, 0.95);
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            z-index: 10;
        }

        /* --- COMPONENTS --- */
        .btn {
            cursor: pointer;
            border: none;
            border-radius: 12px;
            font-family: 'Outfit', sans-serif;
            font-weight: 700;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .btn:active { transform: scale(0.96); }
        
        .btn-nav {
            width: 56px;
            height: 56px;
            background: var(--bg-card);
            color: var(--text-main);
            font-size: 1.2rem;
            border: 2px solid rgba(255,255,255,0.2);
        }
        .btn-nav:hover:not(:disabled) {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(99, 102, 241, 0.6);
        }
        .btn-nav:disabled { opacity: 0.3; cursor: not-allowed; }

        .btn-reveal {
            background: var(--primary);
            color: white;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            width: 100%;
            margin-top: 1rem;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        .btn-reveal:hover { background: #4f46e5; transform: translateY(-2px); box-shadow: 0 6px 12px rgba(99, 102, 241, 0.4); }
        
        .progress-container {
            flex: 1;
            margin: 0 2rem;
            height: 8px;
            background: rgba(255,255,255,0.15);
            border-radius: 10px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--accent), var(--secondary));
            transition: width 0.4s ease;
        }

        /* Typography & Layout */
        .text-center { text-align: center; }
        h1 { font-size: var(--fs-h1); font-family: 'Outfit', sans-serif; line-height: 1.1; margin-bottom: 1rem; color: white; text-shadow: 0 0 20px rgba(99, 102, 241, 0.5); }
        h2 { font-size: var(--fs-h2); font-family: 'Outfit', sans-serif; margin-bottom: 1.5rem; color: white; }
        h3 { font-size: var(--fs-h3); font-family: 'Outfit', sans-serif; margin-bottom: 1rem; color: white; }
        p, li { font-size: var(--fs-body); color: var(--text-muted); line-height: 1.6; }
        strong { color: white; font-weight: 800; }

        /* Helpers for color emphasis */
        .text-accent { color: var(--accent) !important; }
        .text-secondary { color: var(--secondary) !important; }
        .text-amber { color: var(--amber) !important; }
        .text-success { color: var(--success) !important; }
        .text-danger { color: var(--danger) !important; }

        .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 3rem; align-items: start; }
        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            backdrop-filter: blur(10px);
        }
        
        /* Flip Cards */
        .flip-card {
            background-color: transparent;
            width: 100%;
            height: 350px; 
            perspective: 1000px;
            cursor: pointer;
        }
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }
        .flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }
        .flip-front, .flip-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: var(--border-radius);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            border: 2px solid rgba(255,255,255,0.1);
        }
        .flip-front { background: var(--bg-card); }
        .flip-front:hover { background: var(--bg-card-hover); border-color: var(--accent); }
        .flip-back { background: linear-gradient(135deg, var(--primary), var(--secondary)); transform: rotateY(180deg); color: white; border: none; box-shadow: 0 0 30px rgba(99, 102, 241, 0.5); }
        .flip-back h3 { color: white; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 10px; margin-bottom: 15px; }

        /* Answer Panels */
        .answer-box {
            background: rgba(34, 211, 238, 0.1);
            border: 2px solid var(--accent);
            color: var(--accent);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1rem;
            display: none;
        }
        .answer-box.visible { display: block; animation: slideUp 0.3s ease; }
        .answer-box strong { color: white; }
        
        /* Image Styling */
        .slide-img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            border: 2px solid rgba(255,255,255,0.1);
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        /* Video Styling */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            overflow: hidden;
            border-radius: var(--border-radius);
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.4);
            border: 2px solid rgba(255,255,255,0.1);
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Animations */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeIn 0.6s ease-out; }
        .slide-up { animation: slideUp 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) both; }

        /* Media Queries */
        @media (max-width: 768px) {
            .grid-2, .grid-3 { grid-template-columns: 1fr; gap: 2rem; }
            .header, .footer { padding: 0 1rem; }
            h1 { font-size: 2.5rem; }
            .flip-card { height: 300px; }
        }
    </style>
</head>
<body>

<div class="app-shell">
    <header class="header">
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div class="brand-pill">Khoa h·ªçc L·ªõp 8</div>
            <span style="font-weight: 700; color: var(--text-muted); font-size: 0.9rem;">Ch·ªß ƒë·ªÅ 6.2 Kh√∫c x·∫°</span>
        </div>
        <div style="font-family: 'Outfit'; font-weight: 700; font-size: 1.2rem; color: var(--accent);">
            Th·ª© S√°u, 9/1/2026
        </div>
    </header>

    <main class="viewport" id="viewport">
        <div id="slide-container" class="slide-wrapper" aria-live="polite">
            </div>
    </main>

    <footer class="footer">
        <button class="btn btn-nav" id="btn-prev" aria-label="Previous Slide">
            <i class="fa-solid fa-chevron-left"></i>
        </button>
        
        <div class="progress-container">
            <div class="progress-fill" id="progress-bar"></div>
        </div>
        
        <button class="btn btn-nav" id="btn-next" aria-label="Next Slide">
            <i class="fa-solid fa-chevron-right"></i>
        </button>
    </footer>
</div>

<script>
    const state = {
        currentSlide: 0,
        slides: []
    };

    // --- SLIDE DATA ---
    state.slides = [
        {
            // 1. Title & Goals
            render: () => `
                <div class="text-center fade-in">
                    <i class="fa-solid fa-wand-magic-sparkles" style="font-size: 5rem; color: var(--accent); margin-bottom: 1.5rem; filter: drop-shadow(0 0 15px var(--accent));"></i>
                    <h1>6.2 Kh√∫c x·∫° √Ånh s√°ng</h1>
                    <p style="font-size: 1.5rem; color: var(--secondary); font-weight: 600; letter-spacing: 1px;">S·ª± B·∫ª Cong c·ªßa √Ånh S√°ng</p>
                    
                    <div class="card slide-up" style="margin-top: 3rem; max-width: 800px; margin-left: auto; margin-right: auto; text-align: left;">
                        <h3 style="color: var(--accent); border-bottom: 1px solid rgba(34, 211, 238, 0.3); padding-bottom: 1rem;">
                            <i class="fa-solid fa-crosshairs"></i> M·ª•c ti√™u B√†i h·ªçc
                        </h3>
                        <ul style="list-style: none; margin-top: 1.5rem; display: grid; gap: 1rem;">
                            <li style="display: flex; align-items: center; gap: 1rem;">
                                <i class="fa-solid fa-check-circle" style="color: var(--success);"></i>
                                <span>M√¥ t·∫£ c√°ch √°nh s√°ng b·ªã <strong class="text-accent">b·∫ª cong</strong> t·∫°i c√°c ranh gi·ªõi.</span>
                            </li>
                            <li style="display: flex; align-items: center; gap: 1rem;">
                                <i class="fa-solid fa-check-circle" style="color: var(--success);"></i>
                                <span>Hi·ªÉu <strong class="text-secondary">m·∫≠t ƒë·ªô</strong> ·∫£nh h∆∞·ªüng th·∫ø n√†o ƒë·∫øn t·ªëc ƒë·ªô √°nh s√°ng.</span>
                            </li>
                            <li style="display: flex; align-items: center; gap: 1rem;">
                                <i class="fa-solid fa-check-circle" style="color: var(--success);"></i>
                                <span>V·∫Ω <strong class="text-amber">s∆° ƒë·ªì tia s√°ng</strong> m·ªôt c√°ch ch√≠nh x√°c.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            `
        },
        {
            // 2. Warm Up (Flip Cards)
            render: () => `
                <div class="fade-in text-center">
                    <span class="brand-pill" style="background: var(--amber); color: var(--bg-deep);">Kh·ªüi ƒë·ªông</span>
                    <h2 style="margin-top: 1rem;">T∆∞ duy v·ªÅ √Ånh s√°ng</h2>
                    <div class="grid-2 slide-up" style="max-width: 900px; margin: 3rem auto;">
                        ${createFlipCard(
                            'V·∫≠t li·ªáu Trong su·ªët', 
                            'V√≠ d·ª•', 
                            'Em h√£y k·ªÉ t√™n 3 v·∫≠t li·ªáu m√† √°nh s√°ng c√≥ th·ªÉ ƒëi qua?', 
                            'Th·ªßy tinh, N∆∞·ªõc, Nh·ª±a trong, Kim c∆∞∆°ng, Kh√¥ng kh√≠.',
                            'fa-layer-group', 
                            'var(--primary)'
                        )}
                        ${createFlipCard(
                            'Ly N∆∞·ªõc', 
                            'S·ª± Kh√∫c x·∫°', 
                            'T·∫°i sao ·ªëng h√∫t tr√¥ng nh∆∞ b·ªã g√£y khi ·ªü trong n∆∞·ªõc?', 
                            'B·ªüi v√¨ √°nh s√°ng <strong class="text-accent">ƒë·ªïi h∆∞·ªõng</strong> khi di chuy·ªÉn t·ª´ n∆∞·ªõc sang kh√¥ng kh√≠.',
                            'fa-glass-water', 
                            'var(--secondary)'
                        )}
                    </div>
                </div>
            `
        },
        {
            // 3. What is Refraction?
            render: () => `
                <div class="grid-2 fade-in items-center">
                    <div>
                        <h2>Kh√∫c x·∫° l√† g√¨?</h2>
                        <p style="font-size: 1.3rem;">Kh√∫c x·∫° l√† s·ª± thay ƒë·ªïi <strong class="text-accent">h∆∞·ªõng ƒëi</strong> c·ªßa √°nh s√°ng khi truy·ªÅn t·ª´ m√¥i tr∆∞·ªùng n√†y sang m√¥i tr∆∞·ªùng kh√°c.</p>
                        <div class="card" style="margin-top: 2rem; border-left: 4px solid var(--accent);">
                            <h3 class="text-accent"><i class="fa-solid fa-bolt"></i> T·∫°i sao n√≥ x·∫£y ra?</h3>
                            <p>N√≥ x·∫£y ra v√¨ √°nh s√°ng thay ƒë·ªïi <strong class="text-white">T·ªêC ƒê·ªò</strong>.</p>
                        </div>
                    </div>
                    <div class="slide-up">
                        <div class="card" style="background: rgba(255,255,255,0.05);">
                            <h3 class="text-center" style="margin-bottom: 1.5rem;">T·ªëc ƒë·ªô √Ånh s√°ng</h3>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(99, 102, 241, 0.2); border-radius: 8px; align-items: center;">
                                    <span style="font-size: 1.2rem; font-weight: 800;"><i class="fa-solid fa-wind"></i> KH√îNG KH√ç</span>
                                    <span class="text-accent" style="font-size: 1.5rem;">300,000 km/s</span>
                                </div>
                                <div style="display: flex; justify-content: center; opacity: 0.5;"><i class="fa-solid fa-arrow-down"></i> Ch·∫≠m l·∫°i (Slows Down)</div>
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(236, 72, 153, 0.2); border-radius: 8px; align-items: center;">
                                    <span style="font-size: 1.2rem; font-weight: 800;"><i class="fa-solid fa-cube"></i> TH·ª¶Y TINH</span>
                                    <span class="text-secondary" style="font-size: 1.5rem;">200,000 km/s</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // 4. The Rules
            render: () => `
                <div class="fade-in text-center">
                    <h2>Quy t·∫Øc Kh√∫c x·∫°</h2>
                    <p style="margin-bottom: 3rem;">√Ånh s√°ng b·∫ª cong nh∆∞ th·∫ø n√†o? N√≥ ph·ª• thu·ªôc v√†o m·∫≠t ƒë·ªô.</p>
                    
                    <div class="grid-2 slide-up">
                        <div class="card" style="border-top: 4px solid var(--secondary);">
                            <h3 class="text-secondary">1. V√†o m√¥i tr∆∞·ªùng ƒê·∫∂C h∆°n</h3>
                            <p style="font-size: 0.9rem; margin-bottom: 1rem; opacity: 0.7;">(V√≠ d·ª•: Kh√¥ng kh√≠ v√†o Th·ªßy tinh)</p>
                            <p style="font-size: 1.2rem;">√Ånh s√°ng ƒëi <strong class="text-danger">CH·∫¨M L·∫†I</strong>.</p>
                            <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.1); margin: 1rem 0;">
                            <p>N√≥ b·∫ª cong <strong class="text-secondary">L·∫†I G·∫¶N</strong> ph√°p tuy·∫øn.</p>
                            <i class="fa-solid fa-arrow-right-to-bracket" style="font-size: 2rem; margin-top: 1rem; color: var(--secondary);"></i>
                        </div>

                        <div class="card" style="border-top: 4px solid var(--accent);">
                            <h3 class="text-accent">2. V√†o m√¥i tr∆∞·ªùng K√âM ƒê·∫∂C h∆°n</h3>
                            <p style="font-size: 0.9rem; margin-bottom: 1rem; opacity: 0.7;">(V√≠ d·ª•: Th·ªßy tinh ra Kh√¥ng kh√≠)</p>
                            <p style="font-size: 1.2rem;">√Ånh s√°ng ƒëi <strong class="text-success">NHANH H∆†N</strong>.</p>
                            <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.1); margin: 1rem 0;">
                            <p>N√≥ b·∫ª cong <strong class="text-accent">RA XA</strong> ph√°p tuy·∫øn.</p>
                            <i class="fa-solid fa-arrow-right-from-bracket" style="font-size: 2rem; margin-top: 1rem; color: var(--accent);"></i>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // 5. Visual Diagram 1 (Refraction1.png)
            render: () => `
                <div class="fade-in text-center">
                    <h2 class="text-secondary">Kh√¥ng kh√≠ v√†o Th·ªßy tinh</h2>
                    <div class="card slide-up" style="max-width: 800px; margin: 2rem auto; padding: 1rem;">
                        <img src="Refraction1.png" alt="S∆° ƒë·ªì tia s√°ng ƒëi v√†o kh·ªëi th·ªßy tinh" class="slide-img">
                        <div style="text-align: left; margin-top: 1.5rem; padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <p><strong class="text-amber">Tia t·ªõi (Incident Ray):</strong> Tia s√°ng chi·∫øu v√†o kh·ªëi v·∫≠t ch·∫•t.</p>
                            <p><strong class="text-secondary">Tia kh√∫c x·∫° (Refracted Ray):</strong> Ch√∫ √Ω n√≥ b·∫ª cong <strong>L·∫†I G·∫¶N</strong> ƒë∆∞·ªùng Ph√°p tuy·∫øn (n√©t ƒë·ª©t).</p>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // 6. Visual Diagram 2 (Refraction2.png)
            render: () => `
                <div class="fade-in text-center">
                    <h2 class="text-accent">To√†n b·ªô qu√° tr√¨nh</h2>
                    <div class="card slide-up" style="max-width: 800px; margin: 2rem auto; padding: 1rem;">
                        <img src="Refraction2.png" alt="S∆° ƒë·ªì tia s√°ng r·ªùi kh·ªèi th·ªßy tinh" class="slide-img">
                        <div style="text-align: left; margin-top: 1.5rem; padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <p><strong class="text-accent">Tia l√≥ (Emergent Ray):</strong> Khi √°nh s√°ng r·ªùi kh·ªèi kh·ªëi, n√≥ tƒÉng t·ªëc.</p>
                            <p>N√≥ b·∫ª cong <strong>RA XA</strong> ƒë∆∞·ªùng Ph√°p tuy·∫øn.</p>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // 7. Video Embed
            render: () => `
                <div class="fade-in text-center">
                    <h2 style="margin-bottom: 2rem;">Xem & H·ªçc</h2>
                    <div class="slide-up" style="max-width: 900px; margin: 0 auto;">
                        <div class="card" style="padding: 1rem;">
                            <div class="video-container">
                                <iframe 
                                    src="https://www.youtube.com/embed/UUc44Vg5pCI?start=73" 
                                    title="Video Kh√∫c x·∫°" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                    allowfullscreen>
                                </iframe>
                            </div>
                            <p style="margin-top: 1rem; text-align: left; font-size: 0.95rem; opacity: 0.8;">
                                <i class="fa-brands fa-youtube" style="color: #ff0000;"></i> 
                                H√£y quan s√°t c√°ch tia s√°ng ƒë·ªïi h∆∞·ªõng khi ƒëi v√†o v√† ƒëi ra kh·ªèi kh·ªëi th·ªßy tinh.
                            </p>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // 8. Roller Skate Analogy
            render: () => `
                <div class="fade-in text-center">
                    <span class="brand-pill" style="background: var(--success); color: var(--bg-deep);">V√≠ d·ª• so s√°nh</span>
                    <h2 style="margin-top: 1rem;">T·∫°i sao n√≥ b·∫ª cong?</h2>
                    <div style="max-width: 600px; margin: 3rem auto;" class="slide-up">
                        ${createFlipCard(
                            'V√≠ d·ª• Gi√†y tr∆∞·ª£t Patin', 
                            'M·ªôt b√™n ch·∫≠m l·∫°i tr∆∞·ªõc!', 
                            'H√£y t∆∞·ªüng t∆∞·ª£ng ƒë√¥i gi√†y tr∆∞·ª£t patin ƒëi t·ª´ v·ªâa h√® v√†o b√£i c·ªè theo m·ªôt g√≥c ch√©o.', 
                            'B√°nh xe ƒë·∫ßu ti√™n ch·∫°m c·ªè s·∫Ω ch·∫≠m l·∫°i, trong khi b√°nh kia v·∫´n ƒëi nhanh tr√™n v·ªâa h√®. ƒêi·ªÅu n√†y l√†m ng∆∞·ªùi tr∆∞·ª£t b·ªã <strong>xoay h∆∞·ªõng</strong>.',
                            'fa-person-skating', 
                            'var(--success)'
                        )}
                    </div>
                </div>
            `
        },
        {
            // 9. Real World Effects
            render: () => `
                <div class="fade-in">
                    <h2 class="text-center" style="margin-bottom: 2rem;">Hi·ªáu ·ª©ng Th·ª±c t·∫ø</h2>
                    <div class="grid-2 slide-up">
                        <div class="card" style="border-left: 4px solid var(--amber);">
                            <i class="fa-solid fa-coins" style="font-size: 3rem; color: var(--amber); margin-bottom: 1rem;"></i>
                            <h3>ƒê·ªìng xu xu·∫•t hi·ªán</h3>
                            <p>N·∫øu ƒë·ªìng xu b·ªã che b·ªüi th√†nh c·ªëc, ƒë·ªï n∆∞·ªõc v√†o c√≥ th·ªÉ l√†m n√≥ hi·ªán ra!</p>
                            <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">√Ånh s√°ng t·ª´ ƒë·ªìng xu b·ªã b·∫ª cong t·∫°i m·∫∑t n∆∞·ªõc ƒë·ªÉ ƒëi t·ªõi m·∫Øt em.</p>
                        </div>
                        <div class="card" style="border-left: 4px solid var(--primary);">
                            <i class="fa-solid fa-glasses" style="font-size: 3rem; color: var(--primary); margin-bottom: 1rem;"></i>
                            <h3>Th·∫•u k√≠nh (Lenses)</h3>
                            <p><strong>M√°y ·∫£nh</strong> v√† <strong>M·∫Øt</strong> c·ªßa ch√∫ng ta s·ª≠ d·ª•ng c√°c mi·∫øng th·ªßy tinh cong (th·∫•u k√≠nh) ƒë·ªÉ d√πng kh√∫c x·∫°.</p>
                            <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">Ch√∫ng b·∫ª cong √°nh s√°ng ƒë·ªÉ h·ªôi t·ª• t·∫°i m·ªôt ƒëi·ªÉm (tr√™n v√µng m·∫°c ho·∫∑c phim).</p>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // 10. Challenge 1
            render: () => `
                <div class="fade-in text-center">
                    <h2 class="text-accent"><i class="fa-solid fa-pencil"></i> Th·ª≠ th√°ch 1: V·∫Ω h√¨nh</h2>
                    <p style="font-size: 1.2rem;">V·∫Ω m·ªôt tia s√°ng ƒëi t·ª´ <strong>N∆∞·ªõc</strong> v√†o <strong>Kh·ªëi Nh·ª±a</strong>.</p>
                    
                    <div class="card slide-up" style="max-width: 700px; margin: 2rem auto;">
                        <p style="text-align: left; margin-bottom: 1rem; font-size: 0.9rem; color: var(--text-muted);">
                            <i class="fa-solid fa-circle-info"></i> 
                            Nh·ª±a th√¨ <strong>ƒë·∫∑c h∆°n</strong> N∆∞·ªõc.
                        </p>
                        
                        <div style="background: #0f172a; border-radius: 8px; border: 2px solid rgba(255,255,255,0.1); padding: 1rem; position: relative;">
                            <svg viewBox="0 0 400 250" style="width: 100%; height: auto; overflow: visible;">
                                <rect x="0" y="0" width="400" height="125" fill="#3b82f6" fill-opacity="0.2" /> <text x="10" y="30" fill="#60a5fa" font-size="14" font-weight="bold">N∆Ø·ªöC (K√©m ƒë·∫∑c h∆°n)</text>
                                
                                <rect x="0" y="125" width="400" height="125" fill="#94a3b8" fill-opacity="0.2" /> <text x="10" y="230" fill="#cbd5e1" font-size="14" font-weight="bold">NH·ª∞A (ƒê·∫∑c h∆°n)</text>
                                
                                <line x1="200" y1="20" x2="200" y2="230" stroke="white" stroke-width="2" stroke-dasharray="5,5" opacity="0.5" />
                                <text x="205" y="40" fill="white" font-size="10" opacity="0.5">Ph√°p tuy·∫øn</text>
                                
                                <line x1="50" y1="20" x2="200" y2="125" stroke="var(--amber)" stroke-width="3" marker-end="url(#arrowhead)" />
                                <text x="100" y="80" fill="var(--amber)" font-size="12">Tia t·ªõi</text>
                                
                                <g class="svg-solution" style="display: none;">
                                    <line x1="200" y1="125" x2="280" y2="250" stroke="var(--secondary)" stroke-width="3" />
                                    <text x="220" y="180" fill="var(--secondary)" font-size="12" font-weight="bold">Tia kh√∫c x·∫°</text>
                                    
                                    <path d="M 200 160 Q 210 160 212 145" fill="none" stroke="white" stroke-width="1" opacity="0.8" />
                                    <text x="225" y="150" fill="white" font-size="12">B·∫ª L·∫†I G·∫¶N Ph√°p tuy·∫øn</text>
                                </g>

                                <defs>
                                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="var(--amber)" />
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        
                        <button class="btn btn-reveal" onclick="this.previousElementSibling.querySelector('.svg-solution').style.display = 'block'; this.style.display='none'">
                            <i class="fa-solid fa-eye"></i> Xem ƒê√°p √Ån
                        </button>
                    </div>
                </div>
            `
        },
        {
            // 11. Challenge 2
            render: () => `
                <div class="fade-in text-center">
                    <h2 class="text-secondary"><i class="fa-regular fa-gem"></i> Th·ª≠ th√°ch 2: L·∫•p l√°nh</h2>
                    <p style="font-size: 1.2rem;">V·∫Ω m·ªôt tia s√°ng ƒëi t·ª´ <strong>Kim c∆∞∆°ng</strong> ra ngo√†i <strong>Kh√¥ng kh√≠</strong>.</p>
                    
                    <div class="card slide-up" style="max-width: 700px; margin: 2rem auto;">
                        <p style="text-align: left; margin-bottom: 1rem; font-size: 0.9rem; color: var(--text-muted);">
                            <i class="fa-solid fa-circle-info"></i> 
                            Kim c∆∞∆°ng <strong>ƒë·∫∑c h∆°n nhi·ªÅu</strong> so v·ªõi Kh√¥ng kh√≠.
                        </p>
                        
                        <div style="background: #0f172a; border-radius: 8px; border: 2px solid rgba(255,255,255,0.1); padding: 1rem; position: relative;">
                            <svg viewBox="0 0 400 250" style="width: 100%; height: auto; overflow: visible;">
                                <rect x="0" y="0" width="400" height="125" fill="transparent" /> <text x="10" y="30" fill="white" font-size="14" font-weight="bold">KH√îNG KH√ç (K√©m ƒë·∫∑c h∆°n)</text>
                                
                                <rect x="0" y="125" width="400" height="125" fill="#22d3ee" fill-opacity="0.15" /> <text x="10" y="230" fill="#22d3ee" font-size="14" font-weight="bold">KIM C∆Ø∆†NG (R·∫•t ƒë·∫∑c)</text>
                                
                                <line x1="200" y1="20" x2="200" y2="230" stroke="white" stroke-width="2" stroke-dasharray="5,5" opacity="0.5" />
                                
                                <line x1="120" y1="250" x2="200" y2="125" stroke="var(--amber)" stroke-width="3" marker-end="url(#arrowhead2)" />
                                <text x="130" y="200" fill="var(--amber)" font-size="12">Tia t·ªõi</text>
                                
                                <g class="svg-solution" style="display: none;">
                                    <line x1="200" y1="125" x2="350" y2="80" stroke="var(--secondary)" stroke-width="3" />
                                    <text x="280" y="70" fill="var(--secondary)" font-size="12" font-weight="bold">Tia kh√∫c x·∫°</text>
                                    
                                    <path d="M 200 90 Q 210 90 220 110" fill="none" stroke="white" stroke-width="1" opacity="0.8" />
                                    <text x="230" y="100" fill="white" font-size="12">B·∫ª RA XA Ph√°p tuy·∫øn</text>
                                    <text x="230" y="115" fill="#22d3ee" font-size="11">(TƒÉng t·ªëc!)</text>
                                </g>

                                <defs>
                                    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="var(--amber)" />
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        
                        <button class="btn btn-reveal" onclick="this.previousElementSibling.querySelector('.svg-solution').style.display = 'block'; this.style.display='none'">
                            <i class="fa-solid fa-eye"></i> Xem ƒê√°p √Ån
                        </button>
                    </div>
                </div>
            `
        },
        {
            // 12. Check Understanding
            render: () => `
                <div class="fade-in text-center">
                    <h2><i class="fa-solid fa-clipboard-question"></i> Ki·ªÉm tra Ki·∫øn th·ª©c</h2>
                    <div class="grid-2 slide-up" style="margin-top: 3rem;">
                        <div class="card">
                            <h3>C√¢u h·ªèi 1</h3>
                            <p style="font-size: 1.2rem; margin-bottom: 1.5rem;">√Ånh s√°ng ƒëi nhanh h∆°n trong <strong>Kh√¥ng kh√≠</strong> hay <strong>N∆∞·ªõc</strong>?</p>
                            <button class="btn btn-reveal" onclick="this.nextElementSibling.classList.add('visible'); this.style.display='none'">Ki·ªÉm tra</button>
                            <div class="answer-box">
                                <strong class="text-accent" style="font-size: 1.5rem;">Kh√¥ng kh√≠</strong>
                                <p style="margin-top: 0.5rem; font-size: 0.9rem;">V√¨ n√≥ k√©m ƒë·∫∑c h∆°n (300,000 km/s).</p>
                            </div>
                        </div>
                        <div class="card">
                            <h3>C√¢u h·ªèi 2</h3>
                            <p style="font-size: 1.2rem; margin-bottom: 1.5rem;">Khi √°nh s√°ng ƒëi v√†o m√¥i tr∆∞·ªùng <strong>ƒë·∫∑c h∆°n</strong> (nh∆∞ th·ªßy tinh), n√≥ b·∫ª cong theo h∆∞·ªõng n√†o?</p>
                            <button class="btn btn-reveal" onclick="this.nextElementSibling.classList.add('visible'); this.style.display='none'">Ki·ªÉm tra</button>
                            <div class="answer-box">
                                <strong class="text-secondary" style="font-size: 1.5rem;">L·∫°i g·∫ßn Ph√°p tuy·∫øn</strong>
                            </div>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // 13. Homework
            render: () => `
                <div class="text-center fade-in">
                    <h2>üìö B√†i t·∫≠p v·ªÅ nh√†</h2>
                    <div class="card slide-up" style="max-width: 600px; margin: 2rem auto; text-align: left; border-top: 4px solid var(--primary);">
                        <h3 style="color: var(--primary);">Nhi·ªám v·ª• Ch·ªß ƒë·ªÅ 6.2</h3>
                        <div style="display: flex; align-items: flex-start; gap: 1.5rem; margin-top: 1.5rem;">
                            <div style="width: 50px; height: 50px; background: rgba(99, 102, 241, 0.2); color: var(--primary); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; flex-shrink: 0;">
                                <i class="fa-solid fa-book-open"></i>
                            </div>
                            <div>
                                <p style="font-size: 1.2rem; font-weight: 700; color: white; margin-bottom: 0.5rem;">ƒê·ªçc s√°ch gi√°o khoa</p>
                                <p>ƒê·ªçc trang <strong>198 - 199</strong>.</p>
                            </div>
                        </div>
                        <div style="display: flex; align-items: flex-start; gap: 1.5rem; margin-top: 1.5rem;">
                            <div style="width: 50px; height: 50px; background: rgba(236, 72, 153, 0.2); color: var(--secondary); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; flex-shrink: 0;">
                                <i class="fa-solid fa-pen-to-square"></i>
                            </div>
                            <div>
                                <p style="font-size: 1.2rem; font-weight: 700; color: white; margin-bottom: 0.5rem;">C√¢u h·ªèi</p>
                                <p>Tr·∫£ l·ªùi <strong>C√¢u h·ªèi 1-4</strong> ·ªü trang 200.</p>
                            </div>
                        </div>
                    </div>
                </div>
            `
        }
    ];

    // --- HELPER FUNCTIONS ---
    function createFlipCard(front, backTitle, backDesc, extraDesc, icon, color) {
        return `
            <div class="flip-card" onclick="this.classList.toggle('flipped')" tabindex="0" onkeypress="if(event.key === 'Enter') this.classList.toggle('flipped')">
                <div class="flip-card-inner">
                    <div class="flip-front">
                        <i class="fa-solid ${icon}" style="font-size: 3rem; margin-bottom: 1rem; color: ${color};"></i>
                        <h3 style="color: white;">${front}</h3>
                        <p style="font-size: 0.8rem; opacity: 0.7; margin-top: 1rem;">(Nh·∫•n ƒë·ªÉ L·∫≠t)</p>
                    </div>
                    <div class="flip-back" style="background: linear-gradient(135deg, ${color}, var(--primary));">
                        <h3>${backTitle}</h3>
                        <p style="color: white; font-size: 1.1rem;">${backDesc}</p>
                         ${extraDesc ? `<p style="font-size: 1rem; margin-top:1rem; opacity:0.9; color:white; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 1rem;">${extraDesc}</p>` : ''}
                    </div>
                </div>
            </div>
        `;
    }

    // --- CORE APP LOGIC ---
    function render() {
        const container = document.getElementById('slide-container');
        const slide = state.slides[state.currentSlide];
        container.innerHTML = slide.render();
        
        // Update UI Elements
        document.getElementById('progress-bar').style.width = `${((state.currentSlide + 1) / state.slides.length) * 100}%`;
        document.getElementById('btn-prev').disabled = state.currentSlide === 0;
        document.getElementById('btn-next').disabled = state.currentSlide === state.slides.length - 1;
        document.getElementById('viewport').scrollTop = 0;
    }

    function changeSlide(dir) {
        const next = state.currentSlide + dir;
        if (next >= 0 && next < state.slides.length) {
            state.currentSlide = next;
            render();
        }
    }

    // --- EVENT LISTENERS ---
    document.getElementById('btn-prev').addEventListener('click', () => changeSlide(-1));
    document.getElementById('btn-next').addEventListener('click', () => changeSlide(1));

    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight' || e.key === ' ') changeSlide(1);
        if (e.key === 'ArrowLeft') changeSlide(-1);
    });

    // Initialize
    render();

</script>
</body>
</html>
