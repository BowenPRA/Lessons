<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6.3 & 6.4: Rainbows & Colors - Year 8 Science</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* --- CSS VARIABLES & THEME --- */
        :root {
            /* Palette - Deep Space/Light Theme */
            --bg-deep: #020617;         
            --bg-card: #1e293b;         
            --bg-card-hover: #334155;  
            
            --primary: #6366f1;   /* Indigo - Main Elements */
            --secondary: #d946ef; /* Magenta - Secondary Colors */
            --accent: #22d3ee;    /* Cyan - Key Terms */
            --yellow: #facc15;    /* Yellow - Light */
            --red: #f87171;       
            --green: #4ade80;
            --success: #34d399;   
            --danger: #ef4444;    

            /* Typography */
            --text-main: #ffffff;        
            --text-muted: #cbd5e1;       

            --header-h: 70px;
            --footer-h: 80px;
            --border-radius: 20px;
            
            --fs-h1: clamp(2.5rem, 5vw, 4.5rem);
            --fs-h2: clamp(1.8rem, 3.5vw, 3.5rem);
            --fs-h3: clamp(1.2rem, 2vw, 2rem);
            --fs-body: clamp(1.1rem, 1.2vw, 1.6rem);
        }

        /* --- RESET & BASE --- */
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        
        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-deep);
            color: var(--text-main);
            /* Starry Background */
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(99, 102, 241, 0.1), transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(217, 70, 239, 0.1), transparent 40%),
                radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 3px),
                radial-gradient(white, rgba(255,255,255,.1) 1px, transparent 2px);
            background-size: 100% 100%, 100% 100%, 550px 550px, 350px 350px;
        }

        /* --- LAYOUT --- */
        .app-shell { display: flex; flex-direction: column; height: 100vh; }

        .header {
            height: var(--header-h);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
            background: rgba(2, 6, 23, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            z-index: 10;
        }

        .brand-pill {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            font-family: 'Outfit', sans-serif;
            font-weight: 800;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 0 15px rgba(99, 102, 241, 0.4);
        }

        .viewport {
            flex: 1;
            position: relative;
            overflow-y: auto;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        .slide-wrapper {
            min-height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 1rem 3rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .footer {
            height: var(--footer-h);
            background: rgba(2, 6, 23, 0.9);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            z-index: 10;
        }

        /* --- UI ELEMENTS --- */
        .btn-nav {
            width: 56px;
            height: 56px;
            background: var(--bg-card);
            color: var(--text-main);
            font-size: 1.2rem;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-nav:hover:not(:disabled) {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(99, 102, 241, 0.6);
        }
        .btn-nav:disabled { opacity: 0.3; cursor: not-allowed; }

        .progress-container {
            flex: 1;
            margin: 0 2rem;
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--secondary));
            transition: width 0.4s ease;
        }

        /* --- TYPOGRAPHY --- */
        .text-center { text-align: center; }
        h1 { font-size: var(--fs-h1); font-family: 'Outfit', sans-serif; line-height: 1.1; margin-bottom: 1rem; text-shadow: 0 0 30px rgba(99, 102, 241, 0.4); }
        h2 { font-size: var(--fs-h2); font-family: 'Outfit', sans-serif; margin-bottom: 1.5rem; color: white; }
        h3 { font-size: var(--fs-h3); font-family: 'Outfit', sans-serif; margin-bottom: 1rem; color: white; }
        p, li { font-size: var(--fs-body); color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; }
        strong { color: white; font-weight: 800; }
        
        /* Highlight Classes */
        .hl-accent { color: var(--accent); }
        .hl-secondary { color: var(--secondary); }
        .hl-yellow { color: var(--yellow); }
        .hl-red { color: var(--red); }
        .hl-green { color: var(--green); }

        /* --- GRIDS & CARDS --- */
        .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)); gap: 3rem; align-items: center; }
        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }

        .card {
            background: var(--bg-card);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* --- COMPONENTS --- */
        
        /* 1. Flip Cards */
        .flip-card {
            background-color: transparent;
            width: 100%;
            height: 300px; 
            perspective: 1000px;
            cursor: pointer;
        }
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        .flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }
        .flip-front, .flip-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: var(--border-radius);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            border: 2px solid rgba(255,255,255,0.1);
        }
        .flip-front { background: var(--bg-card); }
        .flip-front:hover { background: var(--bg-card-hover); border-color: var(--accent); }
        .flip-back { background: linear-gradient(135deg, var(--primary), var(--secondary)); transform: rotateY(180deg); color: white; border: none; }

        /* 2. Reveal Buttons & Answer Boxes */
        .btn-reveal {
            background: var(--primary);
            color: white;
            padding: 0.8rem 2rem;
            font-size: 1.2rem;
            font-weight: 700;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            margin-top: 1rem;
            width: 100%;
            transition: transform 0.2s;
        }
        .btn-reveal:hover { transform: scale(1.02); background: #4f46e5; }
        
        .answer-box {
            background: rgba(34, 211, 238, 0.15);
            border: 2px solid var(--accent);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1rem;
            display: none;
            animation: slideUp 0.3s ease;
        }
        .answer-box.visible { display: block; }

        /* 3. Images */
        .slide-img-container {
            width: 100%;
            height: 400px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .slide-img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        /* 4. Color Mixing Circle (CSS Only) */
        .mix-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto;
            isolation: isolate; /* Crucial for mix-blend-mode */
        }
        .mix-circle {
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            mix-blend-mode: screen; /* Light mixing physics */
        }
        .mix-red { background-color: #ff0000; top: 0; left: 50px; }
        .mix-green { background-color: #00ff00; bottom: 0; left: 0; }
        .mix-blue { background-color: #0000ff; bottom: 0; right: 0; }

        /* 5. Video Container */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            overflow: hidden;
            border-radius: var(--border-radius);
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.4);
            border: 2px solid rgba(255,255,255,0.1);
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Animations */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeIn 0.6s ease-out; }
        .slide-up { animation: slideUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1); }

    </style>
</head>
<body>

<div class="app-shell">
    <!-- Header -->
    <header class="header">
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div class="brand-pill">Year 8 Science</div>
            <span style="font-weight: 700; color: var(--text-muted);">6.3 & 6.4: Rainbows & Colors</span>
        </div>
        <div style="font-family: 'Outfit'; font-weight: 700; color: var(--accent);">
            Tuesday 13 January 2026
        </div>
    </header>

    <!-- Main Content -->
    <main class="viewport" id="viewport">
        <div id="slide-container" class="slide-wrapper" aria-live="polite">
            <!-- Slides injected here -->
        </div>
    </main>

    <!-- Footer / Nav -->
    <footer class="footer">
        <button class="btn-nav" id="btn-prev" aria-label="Previous Slide"><i class="fa-solid fa-chevron-left"></i></button>
        <div class="progress-container">
            <div class="progress-fill" id="progress-bar"></div>
        </div>
        <button class="btn-nav" id="btn-next" aria-label="Next Slide"><i class="fa-solid fa-chevron-right"></i></button>
    </footer>
</div>

<script>
    const state = {
        currentSlide: 0,
        slides: []
    };

    // --- SLIDE DATA ---
    state.slides = [
        {
            // Slide 1: Title & Objectives Combined
            render: () => `
                <div class="text-center fade-in">
                    <div style="font-size: 4rem; margin-bottom: 0.5rem; filter: drop-shadow(0 0 30px rgba(255,255,255,0.4));">üåà</div>
                    <h1 style="margin-bottom: 2rem;">Making Rainbows <br>& Colors of Light</h1>
                    
                    <div class="card slide-up" style="max-width: 800px; margin: 0 auto; text-align: left; padding: 2rem;">
                        <h3 style="color: var(--accent); border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 1rem; margin-bottom: 1.5rem;">
                            Learning Objectives (Write this Down)
                        </h3>
                        <ul style="list-style: none; display: grid; gap: 1.2rem;">
                            <li style="display: flex; align-items: center; gap: 1.5rem; font-size: 1.3rem;">
                                <span style="font-size: 2rem;">üíé</span>
                                <span>Understand how <strong>White Light</strong> splits into a <strong>Spectrum</strong>.</span>
                            </li>
                            <li style="display: flex; align-items: center; gap: 1.5rem; font-size: 1.3rem;">
                                <span style="font-size: 2rem;">üé®</span>
                                <span>Learn the <strong>Primary Colors</strong> of light.</span>
                            </li>
                            <li style="display: flex; align-items: center; gap: 1.5rem; font-size: 1.3rem;">
                                <span style="font-size: 2rem;">üï∂Ô∏è</span>
                                <span>Explain how <strong>Filters</strong> and <strong>Objects</strong> appear colored.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            `
        },
        {
            // Slide 2: Warm Up Review
            render: () => `
                <div class="fade-in text-center">
                    <span class="brand-pill" style="background: var(--yellow); color: #000;">Warm Up</span>
                    <h2 style="margin-top: 1rem;">Thinking Like a Scientist</h2>
                    <div class="grid-2 slide-up" style="margin-top: 3rem;">
                        ${createFlipCard(
                            'What is Refraction?', 
                            'Bending Light', 
                            'When light changes <strong>direction</strong> because it changes <strong>speed</strong> (e.g., Air to Glass).',
                            'fa-arrow-right-to-bracket', 
                            'var(--accent)'
                        )}
                        ${createFlipCard(
                            'Is White Light "Pure"?', 
                            'No!', 
                            'White light is actually a <strong>mixture</strong> of all colors combined together.',
                            'fa-sun', 
                            'var(--yellow)'
                        )}
                    </div>
                </div>
            `
        },
        {
            // Slide 3: The Discovery
            render: () => `
                <div class="grid-2 fade-in">
                    <div>
                        <h2 class="hl-secondary">The Discovery (1666)</h2>
                        <p>A famous scientist named <strong>Isaac Newton</strong> did an experiment.</p>
                        <p>He shone a beam of white sunlight through a triangular glass block called a <strong class="hl-accent">PRISM</strong>.</p>
                        <div class="card" style="margin-top: 2rem; border-left: 4px solid var(--accent);">
                            <h3><i class="fa-solid fa-lightbulb"></i> What happened?</h3>
                            <p>The white light spread out into many colors! He called this the <strong>SPECTRUM</strong>.</p>
                        </div>
                    </div>
                    <div class="slide-img-container slide-up">
                        <img src="Y8Science6.3Rainbows3.png" alt="Newton's Prism Experiment" class="slide-img">
                    </div>
                </div>
            `
        },
        {
            // Slide 4: Dispersion
            render: () => `
                <div class="fade-in">
                    <h2 class="text-center">How does it work?</h2>
                    <div class="grid-2 slide-up" style="align-items: start;">
                        <div>
                            <p style="font-size: 1.3rem;">This process is called <strong class="hl-accent" style="font-size: 1.8rem;">DISPERSION</strong>.</p>
                            <p>Different colors travel at different speeds in glass.</p>
                            <ul style="margin-top: 1.5rem; margin-left: 1rem;">
                                <li style="color: var(--red);"><i class="fa-solid fa-gauge-simple-high"></i> <strong>Red Light:</strong> Fastest. Bends the <strong>LEAST</strong>.</li>
                                <li style="color: var(--secondary);"><i class="fa-solid fa-gauge-simple"></i> <strong>Violet Light:</strong> Slowest. Bends the <strong>MOST</strong>.</li>
                            </ul>
                        </div>
                        <div class="card text-center">
                            <i class="fa-solid fa-prism" style="font-size: 5rem; color: rgba(255,255,255,0.2);"></i>
                            <h3 style="margin-top: 1rem;">Refraction Rule</h3>
                            <p>Because Violet slows down the most, it changes direction the most!</p>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // --- NEW SLIDE: Video 1 ---
            // Slide 5: Prism Video
            render: () => `
                <div class="fade-in text-center">
                    <h2 style="margin-bottom: 2rem;">Light and Color</h2>
                    <div class="slide-up" style="max-width: 900px; margin: 0 auto;">
                        <div class="card" style="padding: 1rem;">
                            <div class="video-container">
                                <iframe 
                                    src="https://www.youtube.com/embed/LWQE68YRyGg" 
                                    title="Newton's Prism" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                    allowfullscreen>
                                </iframe>
                            </div>
                            <p style="margin-top: 1rem; text-align: left; font-size: 0.95rem; opacity: 0.8;">
                                <i class="fa-brands fa-youtube" style="color: #ff0000;"></i> 
                                Observe how the white light splits into the colors of the rainbow.
                            </p>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // Slide 6: The Spectrum (ROYGBIV)
            render: () => `
                <div class="fade-in text-center">
                    <h2>The Spectrum</h2>
                    <p>You need to remember the order of the 7 colors.</p>
                    
                    <div class="slide-up" style="display: flex; flex-direction: column; gap: 0.5rem; max-width: 600px; margin: 2rem auto;">
                        <div style="background: #ef4444; padding: 1rem; border-radius: 8px; color: black; font-weight: 800;">RED (Top)</div>
                        <div style="background: #f97316; padding: 1rem; border-radius: 8px; color: black; font-weight: 800;">ORANGE</div>
                        <div style="background: #eab308; padding: 1rem; border-radius: 8px; color: black; font-weight: 800;">YELLOW</div>
                        <div style="background: #22c55e; padding: 1rem; border-radius: 8px; color: black; font-weight: 800;">GREEN</div>
                        <div style="background: #3b82f6; padding: 1rem; border-radius: 8px; color: black; font-weight: 800;">BLUE</div>
                        <div style="background: #6366f1; padding: 1rem; border-radius: 8px; color: black; font-weight: 800;">INDIGO</div>
                        <div style="background: #a855f7; padding: 1rem; border-radius: 8px; color: black; font-weight: 800;">VIOLET (Bottom)</div>
                    </div>
                    
                    <p style="margin-top: 1rem;">Memory Aid: <strong class="hl-accent">Richard Of York Gave Battle In Vain</strong></p>
                </div>
            `
        },
        {
            // Slide 7: Making a Rainbow
            render: () => `
                <div class="grid-2 fade-in">
                    <div>
                        <h2>Making a Rainbow</h2>
                        <p>Raindrops act like tiny <strong>prisms</strong> in the sky.</p>
                        <div class="card" style="margin-top: 1.5rem;">
                            <h3 class="hl-yellow"><i class="fa-solid fa-list-check"></i> The 3 Requirements</h3>
                            <ol style="margin-left: 1.5rem; line-height: 2;">
                                <li>Bright <strong>Sun</strong>.</li>
                                <li>Water drops (Rain or Spray).</li>
                                <li>Sun must be <strong>BEHIND</strong> you.</li>
                            </ol>
                        </div>
                    </div>
                    <div class="slide-img-container slide-up">
                        <img src="Y8Science6.3Rainbows2.png" alt="Rainbow Formation Diagram" class="slide-img">
                    </div>
                </div>
            `
        },
        {
            // --- NEW SLIDE: WHY IS THE SKY BLUE ---
            // Slide 8: Why is the sky blue?
            render: () => `
                <div class="fade-in text-center">
                    <h2 class="hl-accent">Why is the Sky Blue? ‚òÅÔ∏è</h2>
                    <p style="font-size: 1.3rem; margin-bottom: 3rem;">It's not because of reflection! It is called <strong>SCATTERING</strong>.</p>
                    
                    <div class="grid-2 slide-up" style="align-items: center;">
                        <div class="card text-left">
                            <h3 style="color: white; border-bottom: 2px solid var(--accent); display: inline-block; padding-bottom: 0.5rem;">The Atmosphere</h3>
                            <p style="margin-top: 1rem;">The air around Earth is full of gas particles (Nitrogen & Oxygen).</p>
                            <p>When sunlight hits these particles, it scatters (bounces) in all directions.</p>
                        </div>

                        <div class="card" style="background: linear-gradient(to bottom, #3b82f6, #60a5fa); border: none;">
                            <h3 style="color: white;">Rayleigh Scattering</h3>
                            <div style="text-align: left; background: rgba(0,0,0,0.3); padding: 1.5rem; border-radius: 12px; margin-top: 1rem;">
                                <p style="color: white; margin-bottom: 0.5rem;"><strong>üîµ Blue Light:</strong> Travels in short, small waves. It hits the gas particles and scatters everywhere. <br><em style="opacity: 0.8;">(That's why we see blue!)</em></p>
                                <hr style="border-color: rgba(255,255,255,0.2); margin: 1rem 0;">
                                <p style="color: white;"><strong>üî¥ Red Light:</strong> Travels in long waves. It passes straight through most of the air.</p>
                            </div>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // Slide 9: Check Understanding 1
            render: () => `
                <div class="fade-in text-center">
                    <h2><i class="fa-solid fa-clipboard-question"></i> Quick Check</h2>
                    <div class="grid-2 slide-up" style="margin-top: 2rem;">
                        <div class="card">
                            <h3>Which color bends the most?</h3>
                            <button class="btn-reveal" onclick="this.nextElementSibling.classList.add('visible'); this.style.display='none'">Check Answer</button>
                            <div class="answer-box">
                                <strong class="hl-secondary" style="font-size: 1.5rem;">Violet</strong>
                                <p>Because it slows down the most.</p>
                            </div>
                        </div>
                        <div class="card">
                            <h3>What acts as a prism in the sky?</h3>
                            <button class="btn-reveal" onclick="this.nextElementSibling.classList.add('visible'); this.style.display='none'">Check Answer</button>
                            <div class="answer-box">
                                <strong class="hl-accent" style="font-size: 1.5rem;">Raindrops</strong>
                            </div>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // Slide 10: Primary Colors
            render: () => `
                <div class="fade-in text-center">
                    <span class="brand-pill">Topic 6.4</span>
                    <h2 style="margin-top: 1rem;">Primary Colors of Light</h2>
                    <p>Caution! This is <strong>DIFFERENT</strong> to Art class paint mixing!</p>
                    
                    <div class="grid-3 slide-up" style="margin-top: 3rem;">
                        <div class="card" style="border-top: 5px solid #ff0000;">
                            <i class="fa-solid fa-circle" style="color: #ff0000; font-size: 3rem;"></i>
                            <h3 style="margin-top: 1rem;">Red</h3>
                        </div>
                        <div class="card" style="border-top: 5px solid #00ff00;">
                            <i class="fa-solid fa-circle" style="color: #00ff00; font-size: 3rem;"></i>
                            <h3 style="margin-top: 1rem;">Green</h3>
                        </div>
                        <div class="card" style="border-top: 5px solid #0000ff;">
                            <i class="fa-solid fa-circle" style="color: #0000ff; font-size: 3rem;"></i>
                            <h3 style="margin-top: 1rem;">Blue</h3>
                        </div>
                    </div>
                    <p style="margin-top: 2rem; font-size: 1.5rem;">Adding them all together makes <strong style="text-shadow: 0 0 10px white;">WHITE</strong> light.</p>
                </div>
            `
        },
        {
            // Slide 11: Secondary Colors (Interactive Mix)
            render: () => `
                <div class="fade-in text-center">
                    <h2>Adding Colors (Secondary)</h2>
                    <p>What happens when we mix light?</p>
                    
                    <div class="slide-up" style="margin-top: 2rem;">
                        <!-- CSS Light Mixing Demo -->
                        <div class="mix-container">
                            <div class="mix-circle mix-red"></div>
                            <div class="mix-circle mix-green"></div>
                            <div class="mix-circle mix-blue"></div>
                            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: black; font-weight: 800; font-size: 1.2rem; z-index: 10;">WHITE</div>
                        </div>

                        <div class="grid-3" style="margin-top: 2rem; text-align: left;">
                            <div style="font-size: 1.1rem;">üî¥ Red + üü¢ Green = <strong class="hl-yellow">Yellow</strong></div>
                            <div style="font-size: 1.1rem;">üî¥ Red + üîµ Blue = <strong class="hl-secondary">Magenta</strong></div>
                            <div style="font-size: 1.1rem;">üîµ Blue + üü¢ Green = <strong class="hl-accent">Cyan</strong></div>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // Slide 12: Seeing Colors
            render: () => `
                <div class="grid-2 fade-in">
                    <div>
                        <h2>Seeing Colored Objects</h2>
                        <p>Why is a T-shirt Red?</p>
                        <div class="card">
                            <ul style="list-style: none;">
                                <li style="margin-bottom: 1.5rem;">
                                    <strong>1. Absorption:</strong> The shirt absorbs (steals) all the other colors (Green, Blue, etc).
                                </li>
                                <li>
                                    <strong>2. Reflection:</strong> The shirt <span class="hl-red">REFLECTS</span> only Red light into your eye.
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="slide-img-container slide-up">
                        <img src="Y8Science6.3Rainbows5.png" alt="Reflection diagram" class="slide-img">
                    </div>
                </div>
            `
        },
        {
            // Slide 13: Filters (Subtraction)
            render: () => `
                <div class="fade-in text-center">
                    <h2>Filters (Subtraction)</h2>
                    <p>A filter is a piece of colored plastic or glass.</p>
                    
                    <div class="grid-2 slide-up" style="align-items: center; margin-top: 2rem;">
                        <div class="card" style="border: 2px solid var(--red);">
                            <h3 class="hl-red">Red Filter</h3>
                            <p>It lets <strong>RED</strong> light pass through (transmit).</p>
                            <p>It <strong>ABSORBS</strong> (blocks) Green and Blue.</p>
                            <div style="height: 50px; background: linear-gradient(to right, white 50%, red 50%); margin-top: 1rem; border-radius: 8px;"></div>
                        </div>
                        <div class="slide-img-container" style="height: 250px;">
                            <img src="Y8Science6.3Rainbows4.png" alt="Filters Diagram" class="slide-img">
                        </div>
                    </div>
                </div>
            `
        },
        {
            // Slide 14: Advanced - Objects in Colored Light
            render: () => `
                <div class="fade-in text-center">
                    <h2 class="hl-yellow">Think Hard! üß†</h2>
                    <p>What if we look at a <strong>RED</strong> shirt in <strong>BLUE</strong> light?</p>
                    
                    <div class="slide-up" style="max-width: 800px; margin: 2rem auto;">
                        <div class="card" style="background: #000; border: 1px solid #333;">
                            <h3 style="color: #333;">It looks BLACK</h3>
                            <div style="display: flex; justify-content: space-around; margin-top: 2rem;">
                                <div style="text-align: center;">
                                    <i class="fa-solid fa-lightbulb" style="color: blue; font-size: 3rem;"></i>
                                    <p>Blue Light</p>
                                </div>
                                <div style="font-size: 2rem; padding-top: 0.5rem;">‚û°Ô∏è</div>
                                <div style="text-align: center;">
                                    <i class="fa-solid fa-shirt" style="color: #111; font-size: 3rem;"></i>
                                    <p>Red Shirt</p>
                                </div>
                            </div>
                            <p style="margin-top: 1.5rem; color: #888;">The shirt tries to reflect Red. But there is no Red! It absorbs the Blue. No light reflects.</p>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // Slide 15: Final Check
            render: () => `
                <div class="fade-in text-center">
                    <h2><i class="fa-solid fa-check-double"></i> Final Quiz</h2>
                    <div class="grid-2 slide-up" style="margin-top: 2rem;">
                        <div class="card">
                            <h3>Red + Green Light = ?</h3>
                            <button class="btn-reveal" onclick="this.nextElementSibling.classList.add('visible'); this.style.display='none'">Reveal</button>
                            <div class="answer-box">
                                <strong class="hl-yellow" style="font-size: 1.5rem;">Yellow</strong>
                            </div>
                        </div>
                        <div class="card">
                            <h3>A Green filter absorbs...</h3>
                            <button class="btn-reveal" onclick="this.nextElementSibling.classList.add('visible'); this.style.display='none'">Reveal</button>
                            <div class="answer-box">
                                <strong class="hl-secondary" style="font-size: 1.5rem;">Red and Blue</strong>
                            </div>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // --- NEW SLIDE: Video 2 ---
            // Slide 16: Review Video
            render: () => `
                <div class="fade-in text-center">
                    <h2 style="margin-bottom: 2rem;">Review: Light & Color</h2>
                    <div class="slide-up" style="max-width: 900px; margin: 0 auto;">
                        <div class="card" style="padding: 1rem;">
                            <div class="video-container">
                                <iframe 
                                    src="https://www.youtube.com/embed/IXxZRZxafEQ" 
                                    title="Light and Color" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                    allowfullscreen>
                                </iframe>
                            </div>
                            <p style="margin-top: 1rem; text-align: left; font-size: 0.95rem; opacity: 0.8;">
                                <i class="fa-brands fa-youtube" style="color: #ff0000;"></i> 
                                A quick summary of how we see the world in color.
                            </p>
                        </div>
                    </div>
                </div>
            `
        },
        {
            // Slide 17: Homework (UPDATED)
            render: () => `
                <div class="fade-in text-center">
                    <h1>Good Job! üéâ</h1>
                    <div class="card slide-up" style="max-width: 700px; margin: 2rem auto; border-top: 4px solid var(--success);">
                        <h2 style="color: var(--success); margin-bottom: 2rem;">Homework</h2>
                        
                        <div style="text-align: left; display: grid; gap: 1.5rem;">
                            <div style="display: flex; gap: 1rem; align-items: center;">
                                <i class="fa-solid fa-book-open" style="font-size: 2rem; color: var(--text-muted);"></i>
                                <div>
                                    <strong style="font-size: 1.2rem;">Read</strong>
                                    <p style="margin: 0;">Textbook Pages <strong>205 - 214</strong></p>
                                </div>
                            </div>
                            <div style="display: flex; gap: 1rem; align-items: center;">
                                <i class="fa-solid fa-pen" style="font-size: 2rem; color: var(--text-muted);"></i>
                                <div>
                                    <strong style="font-size: 1.2rem;">Task</strong>
                                    <p style="margin: 0;">Answer <strong>ALL</strong> questions in this section.</p>
                                </div>
                            </div>
                            <div style="display: flex; gap: 1rem; align-items: center;">
                                <i class="fa-solid fa-envelope" style="font-size: 2rem; color: var(--text-muted);"></i>
                                <div>
                                    <strong style="font-size: 1.2rem;">Submission</strong>
                                    <p style="margin: 0;">Make a copy of the Google Slides, then <strong>email answers to Mr. Bowen</strong>.</p>
                                </div>
                            </div>
                            <div style="display: flex; gap: 1rem; align-items: center; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.1);">
                                <i class="fa-solid fa-calendar-days" style="font-size: 2rem; color: var(--accent);"></i>
                                <div>
                                    <strong style="font-size: 1.2rem; color: var(--accent);">Due Date</strong>
                                    <p style="margin: 0;">Friday</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `
        }
    ];

    // --- CORE APP LOGIC ---
    function render() {
        const container = document.getElementById('slide-container');
        const slide = state.slides[state.currentSlide];
        container.innerHTML = slide.render();
        
        // Update UI
        document.getElementById('progress-bar').style.width = `${((state.currentSlide + 1) / state.slides.length) * 100}%`;
        document.getElementById('btn-prev').disabled = state.currentSlide === 0;
        document.getElementById('btn-next').disabled = state.currentSlide === state.slides.length - 1;
        document.getElementById('viewport').scrollTop = 0;
    }

    function changeSlide(dir) {
        const next = state.currentSlide + dir;
        if (next >= 0 && next < state.slides.length) {
            state.currentSlide = next;
            render();
        }
    }

    function createFlipCard(front, backTitle, backDesc, icon, color) {
        return `
            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-card-inner">
                    <div class="flip-front">
                        <i class="fa-solid ${icon}" style="font-size: 3rem; margin-bottom: 1rem; color: ${color};"></i>
                        <h3 style="color: white;">${front}</h3>
                        <p style="font-size: 0.9rem; opacity: 0.7; margin-top: 1rem;">(Click to Flip)</p>
                    </div>
                    <div class="flip-back">
                        <h3>${backTitle}</h3>
                        <p style="color: white; font-size: 1.1rem;">${backDesc}</p>
                    </div>
                </div>
            </div>
        `;
    }

    // --- EVENT LISTENERS ---
    document.getElementById('btn-prev').addEventListener('click', () => changeSlide(-1));
    document.getElementById('btn-next').addEventListener('click', () => changeSlide(1));

    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight' || e.key === ' ') changeSlide(1);
        if (e.key === 'ArrowLeft') changeSlide(-1);
    });

    // Initialize
    render();

</script>
</body>
</html>
